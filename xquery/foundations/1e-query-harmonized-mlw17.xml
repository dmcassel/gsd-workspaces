<export><workspace name="1e-query-harmonized-mlw17"><query name="shipping-zip-cts-query" focus="false" active="true" content-source="as:6240101570028256752:" mode="xquery">xquery version "1.0-ml";

cts:search(
  fn:collection("customer"), 
  cts:element-word-query(xs:QName("shipping-zip"),"36628") 
    )</query><query name="shipping-zip-xpath-query" focus="false" active="true" content-source="as:6240101570028256752:" mode="xquery">xquery version "1.0-ml";

/customer[header/shipping-zip eq "36628"]</query><query name="REST-get-query-1" focus="false" active="true" content-source="as:6240101570028256752:" mode="xquery">(:Structured Search
Query Related Orders, Products by Key
Add Triples to Envelope
Query Related Orders by Triple
Addional Metadata to relationships:)

xquery version "1.0-ml";
(: change alabama to 36628, then texas, view results :)
xdmp:http-get(fn:concat("http://localhost:8000/v1/search?q=alabama"), 
                   &lt;options xmlns="xdmp:http"&gt;
                    &lt;authentication&gt;
                       &lt;username&gt;admin&lt;/username&gt;
                       &lt;password&gt;admin&lt;/password&gt;
                    &lt;/authentication&gt;
                   &lt;/options&gt;)
 </query><query name="REST-post-structured-query-2" focus="false" active="true" content-source="as:6240101570028256752:" mode="xquery">xquery version "1.0-ml";
(: change alabama to 36628, then texas, view results :)

let $structured-query :=
'{
    "query" : {
      "queries": [{
          "value-query" : {
              "element": {
                "name": "shipping-zip",
                "ns": ""
              },
                "text": [
                  "36628"
                ]
           }
      }]
    }
 }'
 
return 
xdmp:http-post(fn:concat("http://localhost:8000/v1/search"), 
                   &lt;options xmlns="xdmp:http"&gt;
                    &lt;authentication&gt;
                       &lt;username&gt;admin&lt;/username&gt;
                       &lt;password&gt;admin&lt;/password&gt;
                    &lt;/authentication&gt;
                      &lt;headers&gt;
                       &lt;content-type&gt;application/json&lt;/content-type&gt;
                    &lt;/headers&gt;
                   &lt;/options&gt;,
                   document{ $structured-query }
                )(: [2] :)</query><query name="REST-get-document" focus="true" active="true" content-source="as:6240101570028256752:" mode="xquery">xquery version "1.0-ml";

xdmp:http-get(fn:concat("http://localhost:8000/v1/documents?uri=/denormalized/customer-1.xml"), 
                   &lt;options xmlns="xdmp:http"&gt;
                    &lt;authentication&gt;
                       &lt;username&gt;admin&lt;/username&gt;
                       &lt;password&gt;admin&lt;/password&gt;
                    &lt;/authentication&gt;
                   &lt;/options&gt;)</query></workspace></export>
